<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from org.apache.maven.plugins:maven-pmd-plugin:3.19.0:cpd at 2022-12-19

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>freeinternals :: FormatJPEG &#x2013; CPD Results</title>
    <link rel="stylesheet" href="./css/maven-base.css" />
    <link rel="stylesheet" href="./css/maven-theme.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<div id="bannerLeft">freeinternals :: FormatJPEG
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2022-12-19</span>
           | <span id="projectVersion">Version: 2.0</span>
      </div>
      <div class="xright"><a href="./" title="freeinternals :: FormatJPEG">freeinternals :: FormatJPEG</a>      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Parent Project</h5>
    <ul>
     <li class="none"><a href="../index.html" title="Free Internals">Free Internals</a></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="project-info.html" title="Project Information">Project Information</a></li>
     <li class="expanded"><a href="project-reports.html" title="Project Reports">Project Reports</a>
      <ul>
       <li class="none"><a href="apidocs/index.html" title="Javadoc">Javadoc</a></li>
       <li class="none"><a href="spotbugs.html" title="SpotBugs">SpotBugs</a></li>
       <li class="none"><a href="pmd.html" title="PMD">PMD</a></li>
       <li class="none"><strong>CPD</strong></li>
      </ul></li>
    </ul>
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
<section>
<h2><a name="CPD_Results"></a>CPD Results</h2>
<p>The following document contains the results of PMD's  <a class="externalLink" href="https://pmd.github.io/latest/pmd_userdocs_cpd.html">CPD</a> 6.49.0.</p></section><section>
<h2><a name="Duplications"></a>Duplications</h2>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\tiff\IFD_8825_GPS.java</td>
<td>72</td></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\tiff\IFD_A005_Interoperability.java</td>
<td>70</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>&quot;GPS Sub IFD&quot;,
                Icons.Shortcut, null);
        comp.setDescription(IFDMessage.getString(IFDMessage.KEY_IFD));
        node = new DefaultMutableTreeNode(comp);
        parentNode.add(node);

        comp = new JTreeNodeFileComponent(
                super.tiff_StartPos + (int) this.value[0],
                2,
                String.format(&quot;IFD number: %d&quot;, this.ifd_number));
        comp.setDescription(TIFF.IFD_Number_Description);
        node.add(new DefaultMutableTreeNode(comp));

        if (this.ifd_sub == null) {
            return;
        }

        // Sub IFD[]
        for (int i = 0; i &lt; this.ifd_sub.length; i++) {
            comp = new JTreeNodeFileComponent(
                    this.ifd_sub[i].getStartPos(),
                    IFD.SIZE,
                    String.format(&quot;Sub IFD[%d] - %s&quot;, i, this.ifd_sub[i].getTagName()));
            comp.setDescription(IFDMessage.getString(IFDMessage.KEY_IFD));
            node_subifd = new DefaultMutableTreeNode(comp);
            node.add(node_subifd);
            if (this.ifd_sub[i] != null) {
                this.ifd_sub[i].generateTreeNode(node_subifd);
            }
        }

        // Next IFD
        super.generateTreeNode_NextIFD(node);
    }
}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\tiff\IFD_8769_Exif.java</td>
<td>77</td></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\tiff\IFD_8825_GPS.java</td>
<td>72</td></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\tiff\IFD_A005_Interoperability.java</td>
<td>70</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>&quot;Exif Sub IFD&quot;,
                Icons.Shortcut, null);
        comp.setDescription(IFDMessage.getString(IFDMessage.KEY_IFD));
        node = new DefaultMutableTreeNode(comp);
        parentNode.add(node);

        comp = new JTreeNodeFileComponent(
                super.tiff_StartPos + (int) this.value[0],
                2,
                String.format(&quot;IFD number: %d&quot;, this.ifd_number));
        comp.setDescription(TIFF.IFD_Number_Description);
        node.add(new DefaultMutableTreeNode(comp));

        if (this.ifd_sub == null) {
            return;
        }

        // Sub IFD[]
        for (int i = 0; i &lt; this.ifd_sub.length; i++) {
            comp = new JTreeNodeFileComponent(
                    this.ifd_sub[i].getStartPos(),
                    IFD.SIZE,
                    String.format(&quot;Sub IFD[%d] - %s&quot;, i, this.ifd_sub[i].getTagName()));
            comp.setDescription(IFDMessage.getString(IFDMessage.KEY_IFD));
            node_subifd = new DefaultMutableTreeNode(comp);
            node.add(node_subifd);
            if (this.ifd_sub[i] != null) {
                this.ifd_sub[i].generateTreeNode(node_subifd);
            }
        }

        // Next IFD
        super.generateTreeNode_NextIFD(node);
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\tiff\IFD_RATIONAL.java</td>
<td>81</td></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\tiff\IFD_SRATIONAL.java</td>
<td>81</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>String.format(ShortText.getString(ShortText.KEY_rational_n), i),
                    Icons.Shortcut, null);
            comp.setDescription(description);
            node = new DefaultMutableTreeNode(comp);
            parentNode.add(node);

            comp = new JTreeNodeFileComponent(
                    super.tiff_StartPos + super.ifd_value_offset + i * 8,
                    4,
                    String.format(ShortText.getString(ShortText.KEY_numerator_n), this.value[0].numerator),
                    Icons.Shortcut, null);
            comp.setDescription(ShortText.getString(ShortText.KEY_Numerator));
            node.add(new DefaultMutableTreeNode(comp));

            comp = new JTreeNodeFileComponent(
                    super.tiff_StartPos + super.ifd_value_offset + i * 8 + 4,
                    4,
                    String.format(ShortText.getString(ShortText.KEY_denominator_n), this.value[0].denominator),
                    Icons.Shortcut, null);
            comp.setDescription(ShortText.getString(ShortText.KEY_Denominator));
            node.add(new DefaultMutableTreeNode(comp));
        }
    }

    @SuppressWarnings(&quot;PublicInnerClass&quot;)
    public static class Rational {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\tiff\IFD_ASCII.java</td>
<td>62</td></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\tiff\IFD_BYTE.java</td>
<td>62</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>void generateTreeNode_ASCII(DefaultMutableTreeNode parentNode, String node, String description) {
        int pos = super.startPos;
        super.generateTreeNode(parentNode, pos);

        JTreeNodeFileComponent comp;

        if (this.isValue()) {
            comp = new JTreeNodeFileComponent(
                    pos + 8,
                    4,
                    node);
            comp.setDescription(description);
            parentNode.add(new DefaultMutableTreeNode(comp));
        } else {
            comp = new JTreeNodeFileComponent(
                    pos + 8,
                    4,
                    String.format(ShortText.getString(ShortText.KEY_Offset_n), super.ifd_value_offset));
            comp.setDescription(IFDMessage.getString(IFDMessage.KEY_IFD_Offset));
            parentNode.add(new DefaultMutableTreeNode(comp));

            comp = new JTreeNodeFileComponent(
                    super.tiff_StartPos + super.ifd_value_offset,
                    super.data_size,
                    node,
                    Icons.Shortcut, null);
            comp.setDescription(description);
            parentNode.add(new DefaultMutableTreeNode(comp));
        }
    }
}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\Marker_APP02.java</td>
<td>43</td></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\Marker_APP13.java</td>
<td>42</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>this.getStartPos() + 2 + 2 + this.identifier.length() + 1 + 2));
        }
    }

    @Override
    public void generateTreeNode(DefaultMutableTreeNode parentNode) {
        DefaultMutableTreeNode markerNode = this.generateTreeNode_Marker(parentNode);
        int lastPos;
        JTreeNodeFileComponent comp;
        DefaultMutableTreeNode identifierNode;

        comp = new JTreeNodeFileComponent(
                lastPos = this.getStartPos(),
                2,
                String.format(&quot;Marker code: 0x04X&quot;, this.marker_code));
        comp.setDescription(MarkerCode.getMarkerCodeDescription());
        markerNode.add(new DefaultMutableTreeNode(comp));

        comp = new JTreeNodeFileComponent(
                lastPos = lastPos + 2,
                2,
                String.format(&quot;length: %d&quot;, this.getMarkerLength()));
        comp.setDescription(MarkerCode.getHeaderLengthDescription());
        markerNode.add(new DefaultMutableTreeNode(comp));

        markerNode.add(new DefaultMutableTreeNode(new JTreeNodeFileComponent(
                lastPos = lastPos + 2,
                this.identifier.length() + 1,
                String.format(&quot;identifier: %s&quot;, this.identifier))));

        if (Marker_APP02.IDENTIFIER_ICC_PROFILE.equals(this.identifier)) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\Marker_APP02.java</td>
<td>45</td></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\Marker_APP13.java</td>
<td>44</td></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\Marker_APP14.java</td>
<td>31</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>}

    @Override
    public void generateTreeNode(DefaultMutableTreeNode parentNode) {
        DefaultMutableTreeNode markerNode = this.generateTreeNode_Marker(parentNode);
        int lastPos;
        JTreeNodeFileComponent comp;
        DefaultMutableTreeNode identifierNode;

        comp = new JTreeNodeFileComponent(
                lastPos = this.getStartPos(),
                2,
                String.format(&quot;Marker code: 0x04X&quot;, this.marker_code));
        comp.setDescription(MarkerCode.getMarkerCodeDescription());
        markerNode.add(new DefaultMutableTreeNode(comp));

        comp = new JTreeNodeFileComponent(
                lastPos = lastPos + 2,
                2,
                String.format(&quot;length: %d&quot;, this.getMarkerLength()));
        comp.setDescription(MarkerCode.getHeaderLengthDescription());
        markerNode.add(new DefaultMutableTreeNode(comp));

        markerNode.add(new DefaultMutableTreeNode(new JTreeNodeFileComponent(
                lastPos = lastPos + 2,
                this.identifier.length() + 1,
                String.format(&quot;identifier: %s&quot;, this.identifier))));</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\tiff\IFD_BYTE.java</td>
<td>26</td></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\tiff\IFD_UNDEFINED.java</td>
<td>26</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>super(pDIS, byteOrder, tag, IFDType.ASCII, startPosTiff, byteArrayTiff);

        if (super.isValue()) {
            this.value = new byte[4];
            this.value[0] = pDIS.readByte();
            this.value[1] = pDIS.readByte();
            this.value[2] = pDIS.readByte();
            this.value[3] = pDIS.readByte();
        } else {
            super.ifd_value_offset = super.readInt(pDIS);                           // Offset

            final PosDataInputStream reader = super.getTiffOffsetReader();
            this.value = new byte[super.ifd_count];
            for (int i = 0; i &lt; super.ifd_count; i++) {
                this.value[i] = reader.readByte();
            }
        }

    }

    @Override
    public void generateTreeNode(DefaultMutableTreeNode parentNode) {
        if (this.isValue()) {
            this.generateTreeNode_BYTE(</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\tiff\IFD_RATIONAL.java</td>
<td>60</td></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\tiff\IFD_SRATIONAL.java</td>
<td>60</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>void generateTreeNode_RATIONAL(DefaultMutableTreeNode parentNode, String description) {
        int pos = super.startPos;
        super.generateTreeNode(parentNode, pos);

        JTreeNodeFileComponent comp;
        DefaultMutableTreeNode node;

        comp = new JTreeNodeFileComponent(
                pos + 8,
                4,
                String.format(ShortText.getString(ShortText.KEY_Offset_n), super.ifd_value_offset));
        comp.setDescription(IFDMessage.getString(IFDMessage.KEY_IFD_Offset));
        parentNode.add(new DefaultMutableTreeNode(comp));

        if (super.ifd_count &lt;= 0) {
            return;
        }
        for (int i = 0; i &lt; super.ifd_count; i++) {
            comp = new JTreeNodeFileComponent(
                    super.tiff_StartPos + super.ifd_value_offset + i * 8,
                    8,
                    String.format(ShortText.getString(ShortText.KEY_rational_n), i),</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\tiff\IFD_9003_DateTimeOriginal.java</td>
<td>32</td></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\tiff\IFD_9004_DateTimeDigitized.java</td>
<td>32</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>reader.readFully(buf, 0, IFD_9003_DateTimeOriginal.COUNT);
        this.datetime = IFD_0132_DateTime.buf2calendar(buf);
    }

    @Override
    public boolean isValue() {
        return false;
    }

    @Override
    public void generateTreeNode(DefaultMutableTreeNode parentNode) {
        super.generateTreeNode_ASCII(
                parentNode,
                String.format(&quot;%04d:%02d:%02d %02d:%02d:%02d&quot;,
                this.datetime.get(Calendar.YEAR),
                this.datetime.get(Calendar.MONTH),
                this.datetime.get(Calendar.DATE),
                this.datetime.get(Calendar.HOUR_OF_DAY),
                this.datetime.get(Calendar.MINUTE),
                this.datetime.get(Calendar.SECOND)),
                IFDMessage.getString(IFDMessage.KEY_IFD_9003_Description) + IFDMessage.getString(IFDMessage.KEY_IFD_8769_Exif_Category_F));</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\Marker_DHT.java</td>
<td>65</td></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\Marker_SOFnn.java</td>
<td>74</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>}

    /**
     * {@inheritDoc}
     */
    @Override
    public void generateTreeNode(DefaultMutableTreeNode parentNode) {
        DefaultMutableTreeNode markerNode = this.generateTreeNode_Marker(parentNode);
        final int pos = super.getStartPos();

        // Marker code
        markerNode.add(new DefaultMutableTreeNode(new JTreeNodeFileComponent(
                pos + 0,
                2,
                String.format(&quot;Marker code: 0x%X&quot;, super.getMarker()))));

        // Marker Length
        markerNode.add(new DefaultMutableTreeNode(new JTreeNodeFileComponent(
                pos + 2,
                2,
                String.format(&quot;length: %d&quot;, super.getMarkerLength()))));

        // Tc, Th
        markerNode.add(new DefaultMutableTreeNode(new JTreeNodeFileComponent(
                pos + 4,
                1,
                String.format(&quot;Tc: %d&quot;, this.Tc))));</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\tiff\IFD_0132_DateTime.java</td>
<td>58</td></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\tiff\IFD_9003_DateTimeOriginal.java</td>
<td>34</td></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\tiff\IFD_9004_DateTimeDigitized.java</td>
<td>34</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>}

    @Override
    public boolean isValue() {
        return false;
    }

    @Override
    public void generateTreeNode(DefaultMutableTreeNode parentNode) {
        super.generateTreeNode_ASCII(
                parentNode,
                String.format(&quot;%04d:%02d:%02d %02d:%02d:%02d&quot;,
                this.datetime.get(Calendar.YEAR),
                this.datetime.get(Calendar.MONTH),
                this.datetime.get(Calendar.DATE),
                this.datetime.get(Calendar.HOUR_OF_DAY),
                this.datetime.get(Calendar.MINUTE),
                this.datetime.get(Calendar.SECOND)),
                IFDMessage.getString(IFDMessage.KEY_IFD_0132_Description));</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\Marker_APP00.java</td>
<td>37</td></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\Marker_APP02.java</td>
<td>43</td></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\Marker_APP13.java</td>
<td>42</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>this.compnent = new JFIF(pDisMarker);
        }
    }

    ///////////////////////////////////////////////////////////////////////////
    // Interface Methods
    @Override
    public void generateTreeNode(DefaultMutableTreeNode parentNode) {
        DefaultMutableTreeNode markerNode = this.generateTreeNode_Marker(parentNode);
        int lastPos;
        JTreeNodeFileComponent comp;
        DefaultMutableTreeNode identifierNode;

        comp = new JTreeNodeFileComponent(
                lastPos = this.getStartPos(),
                2,
                String.format(&quot;Marker code: 0x04X&quot;, this.marker_code));
        comp.setDescription(MarkerCode.getMarkerCodeDescription());
        markerNode.add(new DefaultMutableTreeNode(comp));

        comp = new JTreeNodeFileComponent(
                lastPos = lastPos + 2,
                2,
                String.format(&quot;length: %d&quot;, this.getMarkerLength()));
        comp.setDescription(&quot;Total APP0 field byte count, including the byte count value (2 bytes), but excluding the APP0 marker itself.&quot;);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\Marker_APP00.java</td>
<td>39</td></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\Marker_APP14.java</td>
<td>31</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>}

    ///////////////////////////////////////////////////////////////////////////
    // Interface Methods
    @Override
    public void generateTreeNode(DefaultMutableTreeNode parentNode) {
        DefaultMutableTreeNode markerNode = this.generateTreeNode_Marker(parentNode);
        int lastPos;
        JTreeNodeFileComponent comp;
        DefaultMutableTreeNode identifierNode;

        comp = new JTreeNodeFileComponent(
                lastPos = this.getStartPos(),
                2,
                String.format(&quot;Marker code: 0x04X&quot;, this.marker_code));
        comp.setDescription(MarkerCode.getMarkerCodeDescription());
        markerNode.add(new DefaultMutableTreeNode(comp));

        comp = new JTreeNodeFileComponent(
                lastPos = lastPos + 2,
                2,
                String.format(&quot;length: %d&quot;, this.getMarkerLength()));
        comp.setDescription(&quot;Total APP0 field byte count, including the byte count value (2 bytes), but excluding the APP0 marker itself.&quot;);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org\freeinternals\format\jpeg\Marker_EOI.java</td>
<td>21</td></tr>
<tr class="a">
<td>org\freeinternals\format\jpeg\Marker_SOI.java</td>
<td>21</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>Marker_EOI(final PosDataInputStream pDIS, int marker_code) throws IOException, FileFormatException {
        super(pDIS, marker_code);
    }

    @Override
    protected void parse(final PosDataInputStream pDisMarker) {
    }

    @Override
    public void generateTreeNode(DefaultMutableTreeNode parentNode) {
        DefaultMutableTreeNode markerNode = this.generateTreeNode_Marker(parentNode);
        JTreeNodeFileComponent comp = new JTreeNodeFileComponent(
                this.getStartPos(),
                MarkerCode.MARKER_CODE_BYTES_COUNT,
                String.format(&quot;Marker code = 0x%X&quot;, super.getMarker()));
        comp.setDescription(MarkerCode.getMarkerCodeDescription());
        markerNode.add(new DefaultMutableTreeNode(comp));
    }

}</pre></div></td></tr></table></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2022<a href="http://www.freeinternals.org">Free Internals</a>.
.      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
